# Dynamic Product Ads（ダイナミックプロダクト広告 / DPA）

## フォーマット概要

商品カタログとユーザーの行動データを基に、最適な商品を自動で表示する広告フォーマット。カルーセル形式で表示され、価格やCTAが自動生成される。物理的な商品のみ対応。

### キャンペーンタイプ

| タイプ | 概要 | ターゲット |
|--------|------|-----------|
| **リターゲティング** | サイト訪問者に閲覧済み商品を再表示する | 既にサイトを訪問したユーザー |
| **プロスペクティング** | AIが新規ユーザーに最適な商品を自動選定して表示する | まだサイトを訪問していない新規ユーザー |

### 配置面・目的

- **配置面**: タイムライン
- **広告目的**: 売上（推奨）、ウェブサイトのトラフィック
- **対象**: 物理的な商品のみ（デジタル商品は非対応）

### パフォーマンス実績

- CPA（顧客獲得単価）改善: **30〜88%**

---

## クリエイティブ仕様

### セットアップ必須要件

DPA運用には以下の4つのセットアップが**必須**:

| # | 要件 | 詳細 |
|---|------|------|
| 1 | **X Pixel または CAPI** | ウェブサイトへのX Pixel設置、またはConversions API（CAPI）の実装 |
| 2 | **4つのイベント設定** | Page View / Content View / Add to Cart / Purchase の4イベント |
| 3 | **X Shopping Manager カタログ** | 商品カタログをX Shopping Managerに登録 |
| 4 | **フィード同期スケジュール** | 日次または複数回の定期同期を設定 |

### カタログ仕様

| 項目 | 仕様 |
|------|------|
| 最大商品数 | 1,000,000 商品 |
| 最大フィードサイズ | 8 GB |
| フィード文字コード | UTF-8 |
| フィードURL | HTTPS必須 |
| 同期頻度 | 日次 / 複数回（スケジュール設定） |

### 必須イベント一覧

| イベント | トリガータイミング | 用途 |
|---------|-------------------|------|
| Page View | ページ閲覧時 | サイト訪問者の把握 |
| Content View | 商品詳細ページ閲覧時 | 閲覧商品の特定 |
| Add to Cart | カート追加時 | 購買意欲の高いユーザー特定 |
| Purchase | 購入完了時 | コンバージョン計測・最適化 |

---

## ベストプラクティス

### カタログ最適化

1. **画像**: 白背景の高解像度画像を使用し、複数アングルを用意する
2. **商品名**: 検索されやすいキーワードを商品名に含める
3. **説明文**: 機能ではなくベネフィット（顧客にとっての価値）を中心に記述する
4. **価格**: 正確な `price`（通常価格）と `sale_price`（セール価格）を設定する
5. **フィード更新**: 日次で更新し、在庫・価格の最新状態を反映する

### カスタムラベルの活用

カスタムラベルを設定して商品をセグメント化し、入札やターゲティングを最適化する:

| ラベル | 用途 | 設定例 |
|--------|------|--------|
| `custom_label_0` | カテゴリ | トップス、ボトムス、アクセサリー |
| `custom_label_1` | 価格帯 | 低価格帯、中価格帯、高価格帯 |
| `custom_label_2` | 利益率 | 高マージン、中マージン、低マージン |
| `custom_label_3` | 季節性 | 春夏、秋冬、通年 |
| `custom_label_4` | 在庫状況 | 在庫豊富、在庫少、入荷待ち |

### 運用上の注意点

1. 高マージン商品にはカスタムラベルで優先入札を設定する
2. 在庫切れ商品はフィードから速やかに除外する
3. セール商品は `sale_price` を正確に反映し、DPA上で割引表示を出す
4. リターゲティングとプロスペクティングはキャンペーンを分けて運用する
5. フィードエラーを定期的にチェックし、不承認商品を修正する

---

## 広告コピー構成

### コピーの基本方針

DPAでは商品情報（画像・価格・CTA）はカタログから**自動生成**されるが、キャンペーンレベルのコピー（広告テキスト）は**手動で作成**する必要がある。

### キャンペーンタイプ別コピー例

#### リターゲティング用コピー

サイト訪問済みのユーザーに対し、閲覧商品への再訪を促す:

| 意図 | コピー例 |
|------|---------|
| 再訪促進 | 「チェックした商品、まだあります」 |
| リマインド | 「お気に入りをもう一度」 |
| 在庫警告 | 「あと少しで売り切れ」 |
| カート放棄 | 「カートに残したアイテム、お忘れではありませんか？」 |

#### プロスペクティング用コピー

新規ユーザーに対し、AIが選定した商品への興味を喚起する:

| 意図 | コピー例 |
|------|---------|
| パーソナライズ | 「あなたにおすすめ」 |
| 人気訴求 | 「人気アイテムをチェック」 |
| 発見訴求 | 「あなた好みのアイテムが見つかるかも」 |
| トレンド | 「今注目されているアイテム」 |

#### セール用コピー

| 意図 | コピー例 |
|------|---------|
| 割引訴求 | 「今だけ○%OFF」 |
| 期間限定 | 「期間限定プライス」 |

> **注意**: セール系コピーはAesthetic Score（広告品質スコア）に影響する可能性があるため、過度な割引訴求は避ける。ブランドイメージとのバランスを考慮する。

### コピー作成のポイント

1. カタログから自動生成される情報と重複しない内容にする
2. キャンペーンタイプ（リターゲティング/プロスペクティング）に合わせたトーンにする
3. 短く、行動を促すコピーにする
4. Aesthetic Scoreを意識し、過度にセールス色の強い表現は避ける

---

## ファネル・導線設計

### リターゲティングファネル

```
ユーザーがサイトで商品を閲覧
  │
  ├─ X Pixel が検出
  │   ├─ Content View イベント発火（商品詳細閲覧）
  │   └─ Add to Cart イベント発火（カート追加）
  │
  ▼
DPA が閲覧済み商品を自動表示（タイムライン）
  │
  ▼
ユーザーがクリック
  │
  ▼
同じ商品の商品ページへ遷移
  │
  ▼
購入完了
  │
  └─ Purchase イベント発火（X Pixel / CAPI）
```

### プロスペクティングファネル

```
AI がユーザーの興味・行動データを分析
  │
  ▼
カタログから最適な商品を自動選定
  │
  ▼
DPA が選定商品を表示（タイムライン）
  │
  ▼
ユーザーがクリック
  │
  ▼
商品ページへ遷移
  │
  ▼
購入完了
  │
  ├─ Purchase イベント発火（X Pixel / CAPI）
  ├─ 顧客リストに追加
  └─ 類似オーディエンス（Lookalike）のソースとして活用
```

### ファネル設計のポイント

1. **リターゲティング**: Pixel/CAPIの4イベントが正確に発火していることを事前確認する
2. **プロスペクティング**: 購入完了ユーザーを顧客リストに蓄積し、Lookalkeオーディエンスの精度向上に活用する
3. **リターゲティングウィンドウ**: 商品特性に応じてリターゲティング期間を設定する（衝動買い商材=短期、検討商材=長期）
4. **クロスキャンペーン連携**: プロスペクティングで獲得した初回訪問者を、リターゲティングキャンペーンで追跡する二段構えの設計にする

### セットアップチェックリスト

- [ ] X Pixel または CAPI の実装完了
- [ ] Page View / Content View / Add to Cart / Purchase の4イベント設定完了
- [ ] X Shopping Manager にカタログ登録完了
- [ ] フィード同期スケジュール設定完了（日次以上推奨）
- [ ] カスタムラベルの設計・設定完了
- [ ] リターゲティング / プロスペクティングのキャンペーン分離完了
